<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title></title>
<meta name="description" content="">
<meta name="author" content="ytyaru">
<link rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/deed.ja">
<link rel="icon" href="asset/image/avator.png">
<link rel="stylesheet" href="css/style.css">
<meta name="viewport" content="width=device-width, initial-scale=1">

<script src="js/String.HalfWidthLength.js"></script>
<script src="js/main.js"></script>
</head>
<body>
<h1>Intl.Segmenterã§æ—¥æœ¬èªã‚’æ­£ã—ãåˆ†å‰²ã—ã¦æ•°ãˆã‚‹</h1>
<textarea id="editor" style="width:100%;" placeholder="æ•°ãˆãŸã„ãƒ†ã‚­ã‚¹ãƒˆã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚">å¾è¼©ã¯çŒ«ã§ã‚ã‚‹ã€‚åå‰ã¯ãŸã¬ãã€‚ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦</textarea>
<table>
<tr><th>åŠè§’å¹…ã§æ›ç®—ã—ãŸå­—æ•°</th><td><span id="half-width-length"></span></td></tr>
<tr><th>å…¨åŠè§’å¹…ä¸å•ã§æ›ç®—ã—ãŸå­—æ•°</th><td><span id="intl-segmenter-grapheme-length"></span></td></tr>
</table>

<table>
<tr><th>åˆ†å‰²æ–¹æ³•</th><th>æ•°</th><th>ãƒªã‚¹ãƒˆ</th></tr>
<tr class="red"><th><code>str.length, [...str].map(c=>c)</code></th><td id="output-string-len"></td><td id="output-string"></td></tr>
<tr class="green"><th><code>Intl.Segmenter grapheme</code></th><td id="output-grapheme-len"></td><td id="output-grapheme"></td></tr>
<tr class="green"><th><code>Intl.Segmenter word</code></th><td id="output-word-len"></td><td id="output-word"></td></tr>
<tr class="green"><th><code>Intl.Segmenter sentence</code></th><td id="output-sentence-len"></td><td id="output-sentence"></td></tr>
</table>
<section><h2>æƒ…å ±æº</h2>
<ul>
<li><a href="https://qiita.com/yoya/items/5da038312279f98bdd28">JavaScript textLength as halfWidth (åŠè§’ã¨ã—ã¦ã®ãƒ†ã‚­ã‚¹ãƒˆå¹…)</a>
<li><a href="https://blog.jxck.io/entries/2017-03-02/unicode-in-javascript.html">JavaScript ã«ãŠã‘ã‚‹æ–‡å­—ã‚³ãƒ¼ãƒ‰ã¨ã€Œæ–‡å­—æ•°ã€ã®æ•°ãˆæ–¹</a>
<li><a href="https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Global_Objects/Intl/Segmenter">Intl.Segmenter</a>
</ul>
</section>
<section><h2>å‹•æ©Ÿãƒ»è§£æ³•</h2>
<p>JavaScriptã§æ–‡å­—åˆ—ã®æ•°ã‚’æ­£ã—ãå–å¾—ã—ãŸã„ã€‚<code>Intl.Segmenter</code>ã‚’ä½¿ã†ã€‚</p>
<pre><code>const segG = new Intl.Segmenter('ja-JP', { granularity: 'grapheme' });
const segments = Array.from(segG.segment(str));
console.log(segments.length, segments.map(s=>s.segment))
</code></pre>
<p>åŒºåˆ‡ã‚‹å˜ä½ã”ã¨ã«<code>granularity</code>ã®å€¤ã‚’å¤‰ãˆã‚‹ã€‚</p>
<table>
<tr><th>åŒºåˆ‡å˜ä½</th><th>å¼•æ•°</th></tr>
<tr><td>æ–‡å­—</td><td><code>grapheme</code></td></tr>
<tr><td>å˜èª</td><td><code>word</code></td></tr>
<tr><td>æ–‡</td><td><code>sentence</code></td></tr>
</table>
</section>

    <footer>
        <span><a href="https://ytyaru.github.io/"><img class="icon" src="asset/image/avator.png"></img>ytyaru</a> 2023 </span>
        <a title="CC-BY-SA" \
           href="https://creativecommons.org/licenses/by-sa/4.0/deed.ja"
           style="text-decoration: none;">
            <img class="icon" src="https://upload.wikimedia.org/wikipedia/commons/a/a3/Cc.logo.circle.svg"></img>
            <img class="icon" src="https://upload.wikimedia.org/wikipedia/commons/3/3c/Cc-by_new.svg"></img>
            <img class="icon" src="https://upload.wikimedia.org/wikipedia/commons/2/29/Cc-sa.svg"></img>
            <!--<img src="https://upload.wikimedia.org/wikipedia/commons/d/d0/CC-BY-SA_icon.svg"></img>-->
    </a></footer>
</body>
</html>
<!-- https://coliss.com/articles/build-websites/operation/work/html-template-for-web-apps-or-sites.html -->
<!-- https://coliss.com/articles/build-websites/operation/work/html5-template-for-2018.html -->
